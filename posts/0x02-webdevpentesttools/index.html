<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content="Có lẽ nhiều người khi nghe đến cụm từ hacker sẽ nghĩ ngay đến những người mặc hoodie trong phòng tối với dòng lệnh nền đen chữ xanh cùng một số lớn công cụ phức tạp (sqlmap, Sitadel, hacktool,..). Nhưng sự thực nó khác xa với mong đợi nhiều, và trong bài hôm nay, tôi sẽ chứng tỏ điều đó bằng cách tấn công một website chỉ với Website Developer Tools của trình duyệt Firefox và không gì khác." />
<meta name="keywords" content=", 30ngayattt" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="/posts/0x02-webdevpentesttools/" />


    <title>
        
            0x02: Pentest bằng Devtools :: Cu64 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.d7bdd8ee18bfbf4c605488a7e5b1b92cd980dfeed2bdaeab4dd5e931a7a78bc0.css">






<meta itemprop="name" content="0x02: Pentest bằng Devtools">
<meta itemprop="description" content="Có lẽ nhiều người khi nghe đến cụm từ hacker sẽ nghĩ ngay đến những người mặc hoodie trong phòng tối với dòng lệnh nền đen chữ xanh cùng một số lớn công cụ phức tạp (sqlmap, Sitadel, hacktool,..). Nhưng sự thực nó khác xa với mong đợi nhiều, và trong bài hôm nay, tôi sẽ chứng tỏ điều đó bằng cách tấn công một website chỉ với Website Developer Tools của trình duyệt Firefox và không gì khác.">
<meta itemprop="datePublished" content="2021-04-04T12:24:32+07:00" />
<meta itemprop="dateModified" content="2021-04-04T12:24:32+07:00" />
<meta itemprop="wordCount" content="803">
<meta itemprop="image" content="/"/>



<meta itemprop="keywords" content="30ngayattt," />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/"/>

<meta name="twitter:title" content="0x02: Pentest bằng Devtools"/>
<meta name="twitter:description" content="Có lẽ nhiều người khi nghe đến cụm từ hacker sẽ nghĩ ngay đến những người mặc hoodie trong phòng tối với dòng lệnh nền đen chữ xanh cùng một số lớn công cụ phức tạp (sqlmap, Sitadel, hacktool,..). Nhưng sự thực nó khác xa với mong đợi nhiều, và trong bài hôm nay, tôi sẽ chứng tỏ điều đó bằng cách tấn công một website chỉ với Website Developer Tools của trình duyệt Firefox và không gì khác."/>




    <meta property="og:title" content="0x02: Pentest bằng Devtools" />
<meta property="og:description" content="Có lẽ nhiều người khi nghe đến cụm từ hacker sẽ nghĩ ngay đến những người mặc hoodie trong phòng tối với dòng lệnh nền đen chữ xanh cùng một số lớn công cụ phức tạp (sqlmap, Sitadel, hacktool,..). Nhưng sự thực nó khác xa với mong đợi nhiều, và trong bài hôm nay, tôi sẽ chứng tỏ điều đó bằng cách tấn công một website chỉ với Website Developer Tools của trình duyệt Firefox và không gì khác." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/0x02-webdevpentesttools/" />
<meta property="og:image" content="/"/>
<meta property="article:published_time" content="2021-04-04T12:24:32+07:00" />
<meta property="article:modified_time" content="2021-04-04T12:24:32+07:00" /><meta property="og:site_name" content="Cu64" />






    <meta property="article:published_time" content="2021-04-04 12:24:32 &#43;0700 &#43;07" />








    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">Cu64</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/posts">Posts</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        4 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="/posts/0x02-webdevpentesttools/">0x02: Pentest bằng Devtools</a>
      </h1>

      

      

      <div class="post-content">
        <p>Có lẽ nhiều người khi nghe đến cụm từ hacker sẽ nghĩ ngay đến những người mặc hoodie trong phòng tối với dòng lệnh nền đen chữ xanh cùng một số lớn công cụ phức tạp (sqlmap, Sitadel, hacktool,..). Nhưng sự thực nó khác xa với mong đợi nhiều, và trong bài hôm nay, tôi sẽ chứng tỏ điều đó bằng cách tấn công một website chỉ với Website Developer Tools của trình duyệt Firefox và không gì khác.</p>
<p>Trước tiên, ta cần hiểu Devtools gồm những gì và cách sử dụng của từng bộ phận ra sao.</p>
<p>Devtools của Firefox bao gồm:</p>
<ul>
<li>Page Inspector (xem, chỉnh sửa nội dung và bố cục trang)</li>
<li>Web Console (xem các thông báo được ghi lại bởi trang web và tương tác với trang bằng JavaScript)</li>
<li>JavaScript Debugger (Stop, step through, kiểm tra và sửa đổi code JavaScript đang chạy trên trang)</li>
<li>Network Monitor (Xem các request được thực hiện khi một trang được tải)</li>
<li>Performance Tools (Phân tích hiệu suất, JavaScript và bố cục chung của trang web)</li>
<li>Responsive Design Mode (Xem giao diện, cách hoạt động của trang web trên các thiết bị khác nhau)</li>
<li>Accessibility inspector (Kiểm tra trợ năng của trang)</li>
<li>Application panel (Các công cụ để kiểm tra và gỡ lỗi các ứng dụng web hiện đại (PWA)).</li>
</ul>
<p>Trong bài viết hôm nay thì chúng ta sẽ tập trung vào 2 công cụ: <strong>Page Inspector</strong> và <strong>Storage Inspector</strong>. Để minh họa cách sử dụng của 2 công cụ này, chúng ta cùng đến với ví dụ tại CTF của HackerOne.</p>
<h2 id="flag-0">Flag 0</h2>
<figure>
    <img src="2021-04-07_19-04.png"/> <figcaption>
            <h4>Thử thách &#39;Postbook&#39; trên Hacker101 CTF</h4>
        </figcaption>
</figure>

<figure>
    <img src="2021-04-07_19-06.png"/> <figcaption>
            <h4>Trang chính của thử thách</h4>
        </figcaption>
</figure>

<p>Gợi ý đầu tiên được cung cấp cho chúng ta là việc người dùng &ldquo;user&rdquo; có mật khẩu rất yếu nên ta hãy thử đăng nhập bằng người dùng &ldquo;user&rdquo; với một mật khẩu yếu lấy từ danh sách những mật khẩu yếu.</p>
<figure>
    <img src="2021-04-07_19-09.png"/> 
</figure>

<p>Và như vậy, chúng ta đã lấy được flag đầu tiên của thử thách Postbook này:</p>
<figure>
    <img src="2021-04-07_19-10.png"/> 
</figure>

<h2 id="flag-1">Flag 1</h2>
<p>Chúng ta được cho gợi ý là &ldquo;xem bài viết của bạn và thử thay đổi ID&rdquo; nên hãy làm theo và mở một bài viết trong trình duyệt:</p>
<figure>
    <img src="2021-04-07_19-38.png"/> 
</figure>

<p>và rồi thử thay đổi con số đằng sau id=</p>
<figure>
    <img src="2021-04-07_19-39.png"/> 
</figure>

<h2 id="flag-2">Flag 2</h2>
<p>Gợi ý tiếp theo là &ldquo;bạn nên sử dụng Inspect Element trên form tạo post mới&rdquo;.</p>
<figure>
    <img src="2021-04-07_19-40.png"/> 
</figure>

<p>Nhìn qua mã nguồn, ta nhận thấy có một trường input ẩn với tên &ldquo;user_id&rdquo; và giá trị là &lsquo;2&rsquo;. 2 ở đây có lẽ là id của người dùng và nó sẽ được sử dụng để quyết định tác giả của bài viết. Vậy việc gì sẽ xảy ra nếu ta thử thay đổi id thành &lsquo;1&rsquo; và giả mạo admin đăng bài viết mới?</p>
<figure>
    <img src="2021-04-07_19-44.png"/> 
</figure>

<h2 id="flag-3">Flag 3</h2>
<p>Gợi ý được đưa ra là &ldquo;189 * 5&rdquo; và nếu tính ra thì nó sẽ là số 945. Nhớ lại những gì ta đã tìm ra, nơi hợp lý nhất để đặt con số này có lẽ là param id giống ở trong flag 1.</p>
<figure>
    <img src="2021-04-07_19-46.png"/> 
</figure>

<h2 id="flag-4">Flag 4</h2>
<p>Gọi ý của flag này là &ldquo;nếu bạn có thể edit bài viết của chính mình còn những người khác thì sao?&rdquo;.
URL edit bài viết:</p>
<p><code>http://35.238.245.183/b74c63f307/index.php?page=edit.php&amp;id=3</code></p>
<p>nếu ta chuyển id thành 1</p>
<p><code>http://35.238.245.183/b74c63f307/index.php?page=edit.php&amp;id=1</code></p>
<p>Sẽ không có gì xảy ra khi ta mở trang mà chỉ sau khi edit post thì chúng ta mới nhận được flag</p>
<figure>
    <img src="2021-04-07_19-49.png"/> 
</figure>

<h2 id="flag-5">Flag 5</h2>
<p>Gợi ý: &ldquo;Cookie cho phép bạn giữ đăng nhập, thử đăng nhập vào user với ID 1 lợi dụng điều này&rdquo;. Đã đến lúc chúng ta sử dụng công cụ thứ 2: <strong>Storage Inspector</strong>.</p>
<figure>
    <img src="2021-04-07_19-52.png"/> <figcaption>
            <h4>Giá trị cookie</h4>
        </figcaption>
</figure>

<p>Nếu bạn đã làm việc nhiều với hash thì có lẽ bạn đã nhận ra đây cơ hội cao sẽ là MD5. Sau khi crack hash trên thì chúng ta nhận được &lsquo;2&rsquo; - ID của người dùng &ldquo;user&rdquo;. Vậy nếu giả thiết của chúng ta là đúng thì việc đăng nhập vào user với ID là 1 có thể thành công bằng cách lấy hash MD5 của &lsquo;1&rsquo; và thay nó vào cookie của trang.</p>
<figure>
    <img src="2021-04-07_19-55.png"/> 
</figure>

<h2 id="flag-6">Flag 6</h2>
<p>Gợi ý được cho là &ldquo;xóa bài có vẻ sẽ cần một ID mà không phải số&rdquo;. Chúng ta quay trở lại với <strong>Page Inspector</strong>, khi kiểm tra nút delete thì chúng ta có thể thấy đường dẫn sau: <code>index.php?page=delete.php&amp;id=a87ff679a2f3e71d9181a67b7542122c</code></p>
<p>Dựa trên những kiến thức vừa rồi thì chúng ta có thể chắc chắn rằng đây sẽ là ID của post được hash bằng MD5. Thay thế bằng hash của &lsquo;1&rsquo; là <code>c4ca4238a0b923820dcc509a6f75849b</code> rồi thực hiện xóa thì chúng ta có flag 6 - flag cuối cùng.</p>
<figure>
    <img src="2021-04-07_21-50.png"/> 
</figure>

<p>Qua phần demo ngắn trên, ta có thể thấy rằng chỉ với Devtools, không sử dụng các phần mềm phức tạp như Sitadel, sqlmap,&hellip; là ta đã có thể hack za warudo.</p>
<h1 id="lolong">Lolong</h1>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="/tags/30ngayattt/">30ngayattt</a></span>
        
    </p>

      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        803 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2021-04-04
        

         
          
        
      </p>
    </div>

    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>

        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="/posts/0x03-adbattack/">
                <span class="button__icon">←</span>
                <span class="button__text">0x03: Tấn công các thiết bị Android với ADB</span>
              </a>
            </span>
          

          
            <span class="button next">
              <a href="/posts/0x01-osint/">
                <span class="button__text">0x01: OSINT: Nghệ thuật ShoGo</span>
                <span class="button__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    


    

    

  </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2021</span>
            
            <span>Cu64</span><span><a href="/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.f8557eb670466aea7eb983f6a8375609ad7dba5617c969fdfdf8cb4dbf82c1e47c35c2ca3b26098578653cadac3390ddaa64ccdf5791e295d64bef255c68a96b.js" integrity="sha512-&#43;FV&#43;tnBGaup&#43;uYP2qDdWCa19ulYXyWn9/fjLTb&#43;CweR8NcLKOyYJhXhlPK2sM5DdqmTM31eR4pXWS&#43;8lXGipaw=="></script>



    </body>
</html>
